(function(t){function e(e){for(var o,s,a=e[0],r=e[1],l=e[2],d=0,b=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(b.length)b.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},c={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=r;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0c35":function(t,e,n){"use strict";var o=n("4fd3"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"12b9":function(t,e,n){"use strict";var o=n("e779"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"2e86":function(t,e,n){"use strict";var o=n("bbca"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"4a16":function(t,e,n){"use strict";var o=n("edfc"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"4b59":function(t,e,n){"use strict";var o=n("9818"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"4fd3":function(t,e,n){t.exports={app:"SidebarComponent_app_36Nex",sidebar:"SidebarComponent_sidebar_1kCv4",ul:"SidebarComponent_ul_3rwpe",link:"SidebarComponent_link_1guK2",active:"SidebarComponent_active_On1Ql"}},"629c":function(t,e,n){"use strict";var o=n("8580"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},"6e67":function(t,e,n){"use strict";var o=n("e0b1"),c=n.n(o);n.d(e,"default",(function(){return c.a}))},8580:function(t,e,n){t.exports={app:"TodoItemComponent_app_2IMwe",item:"TodoItemComponent_item_2oh5n",checkLabel:"TodoItemComponent_checkLabel_1PuhX",checkbox:"TodoItemComponent_checkbox_3aOLi",textWrap:"TodoItemComponent_textWrap_1_eRN",textarea:"TodoItemComponent_textarea_3kxR6",text:"TodoItemComponent_text_3Kp6Y",button:"TodoItemComponent_button_1OaUJ",completed:"TodoItemComponent_completed_gW0y3"}},9818:function(t,e,n){t.exports={app:"OptionsComponent_app_2LM7H",buttons:"OptionsComponent_buttons_1XYco"}},bbca:function(t,e,n){t.exports={app:"List_app_3xttb",list_wrap:"List_list_wrap_13LSB",list:"List_list_3MJ8F",item:"List_item_19WHU",empty:"List_empty_1WGL8",id:"List_id_1PwaX",content:"List_content_18XDi",item_button:"List_item_button_1P6W_",title:"List_title_mTKvl",todo_list:"List_todo_list_1sXo-",todo_item:"List_todo_item_2ohgn",completed:"List_completed_dc2mp",search:"List_search_1tls8",search_label:"List_search_label_2BY8c",search_input:"List_search_input_1rvk7"}},c1c3:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c={class:"app"};function i(t,e,n,i,s,a){var r=Object(o["u"])("router-view"),l=Object(o["u"])("sidebar-component");return Object(o["o"])(),Object(o["d"])("div",c,[Object(o["f"])(r),Object(o["f"])(l)])}n("9911");var s=Object(o["f"])("span",{class:"material-icons"}," list ",-1),a=Object(o["f"])("span",null,"Список",-1),r=Object(o["f"])("span",{class:"material-icons"}," add ",-1),l=Object(o["f"])("span",null,"Создать",-1);function u(t,e){var n=Object(o["u"])("router-link");return Object(o["o"])(),Object(o["d"])("div",{class:t.$style.sidebar},[Object(o["f"])("nav",null,[Object(o["f"])("ul",{class:t.$style.ul},[Object(o["f"])(n,{to:"/",class:t.$style.link,"active-class":t.$style.active,title:"Список записок"},{default:Object(o["C"])((function(){return[s,a]})),_:1},8,["class","active-class"]),Object(o["f"])(n,{to:"/note",class:t.$style.link,"active-class":t.$style.active,title:"Создать записку"},{default:Object(o["C"])((function(){return[r,l]})),_:1},8,["class","active-class"])],2)])],2)}var d=n("0c35");const b={},f=b.__cssModules={};f["$style"]=d["default"],b.render=u;var p=b,O=Object(o["g"])({components:{SidebarComponent:p}});O.render=i;var _=O,m=n("6c02"),j=n("ade3"),h=(n("ac1f"),n("841c"),Object(o["f"])("span",{class:"material-icons"}," edit ",-1)),v=Object(o["f"])("span",null,"Изменить",-1);function y(t,e,n,c,i,s){var a=Object(o["u"])("button-component");return Object(o["o"])(),Object(o["d"])("div",{class:t.$style.list_wrap},[Object(o["f"])("div",{class:t.$style.search},[Object(o["f"])("label",{class:t.$style.search_label},[Object(o["f"])("span",{class:t.$style.search_title}," Поиск по названию ",2),Object(o["D"])(Object(o["f"])("input",{class:t.$style.search_input,type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.searchInput=e}),placeholder:"Введите название"},null,2),[[o["z"],t.searchInput]])],2)],2),t.filteredNotes.length?(Object(o["o"])(),Object(o["d"])("ul",{key:1,class:t.$style.list},[(Object(o["o"])(!0),Object(o["d"])(o["a"],null,Object(o["s"])(t.filteredNotes,(function(e){return Object(o["o"])(),Object(o["d"])("li",{class:t.$style.item,key:e.id},[Object(o["f"])("div",{class:t.$style.id},Object(o["w"])(e.id),3),Object(o["f"])("div",{class:t.$style.content},[Object(o["f"])("div",null,[Object(o["f"])("h2",{class:t.$style.title},Object(o["w"])(e.title),3),Object(o["f"])("ul",{class:t.$style.todo_list},[(Object(o["o"])(!0),Object(o["d"])(o["a"],null,Object(o["s"])(e.todos,(function(e,n){return Object(o["o"])(),Object(o["d"])("li",{class:[t.$style.todo_item,Object(j["a"])({},t.$style.completed,e.completed)],key:n},Object(o["w"])(e.text),3)})),128))],2)])],2),Object(o["f"])("div",{class:t.$style.item_button},[Object(o["f"])(a,{onClick:function(n){return t.$router.push("/note/".concat(e.id))}},{default:Object(o["C"])((function(){return[h,v]})),_:2},1032,["onClick"])],2)],2)})),128))],2)):(Object(o["o"])(),Object(o["d"])("ul",{key:0,class:t.$style.list},[Object(o["f"])("li",{class:[t.$style.item,t.$style.empty]},"Записок не найдено",2)],2))],2)}var T=n("5530"),E=(n("4de4"),n("caad"),n("2532"),n("5502"));function g(t,e,n,c,i,s){return Object(o["o"])(),Object(o["d"])("button",{class:[t.$style.button,t.$style[t.size],t.$style[t.view]]},[Object(o["t"])(t.$slots,"default")],2)}var x=Object(o["g"])({props:{size:{type:String,required:!1,default:"normal"},view:{type:String,required:!1,default:""}}}),C=n("6e67");const $=x.__cssModules={};$["$style"]=C["default"],x.render=g;var N=x,D=Object(o["g"])({name:"List",components:{ButtonComponent:N},data:function(){return{searchInput:""}},computed:Object(T["a"])(Object(T["a"])({},Object(E["e"])(["notes"])),{},{filteredNotes:function(){var t=this;return this.notes.filter((function(e){return e.title.toLowerCase().includes(t.searchInput.toLowerCase())}))}})}),k=n("2e86");const L=D.__cssModules={};L["$style"]=k["default"],D.render=y;var w=D,S=Object(o["f"])("span",{class:"material-icons"}," add ",-1),I=Object(o["f"])("span",null,"Добавить заметку",-1);function P(t,e,n,c,i,s){var a=Object(o["u"])("options-component"),r=Object(o["u"])("button-component"),l=Object(o["u"])("editable-text-component"),u=Object(o["u"])("todo-item-component");return Object(o["o"])(),Object(o["d"])("div",{class:t.$style.note},[Object(o["f"])("div",{class:t.$style.options},[Object(o["f"])(a)],2),Object(o["f"])("div",{class:t.$style.create},[Object(o["f"])(r,{ref:"addTodoButton",disabled:t.disabled,onClick:t.ADD_TODO,title:"Добавить новую заметку"},{default:Object(o["C"])((function(){return[S,I]})),_:1},8,["disabled","onClick"]),Object(o["f"])(l,{size:"md",float:"right",maxlength:"30",value:t.note.title,isInput:!0,completed:!1,content:t.note.title?t.note.title:"Нажмите, что изменить название",onInput:e[1]||(e[1]=function(e){return t.UPDATE_TITLE(e.target.value)})},null,8,["value","content"])],2),Object(o["f"])("div",{class:t.$style.todos},[Object(o["f"])("ul",{class:t.$style.ul},[(Object(o["o"])(!0),Object(o["d"])(o["a"],null,Object(o["s"])(t.note.todos,(function(t){return Object(o["o"])(),Object(o["d"])(u,{todo:t,key:t.id},null,8,["todo"])})),128))],2)],2)],2)}n("d3b7"),n("25f0"),n("498a");var A=Object(o["e"])(" Удалить ");function B(t,e,n,c,i,s){var a=Object(o["u"])("editable-text-component"),r=Object(o["u"])("button-component");return Object(o["o"])(),Object(o["d"])("li",{class:t.$style.item},[Object(o["f"])("label",{class:t.$style.checkLabel},[Object(o["D"])(Object(o["f"])("input",{class:t.$style.checkbox,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.checked=e}),type:"checkbox"},null,2),[[o["y"],t.checked]]),Object(o["e"])(" "+Object(o["w"])(t.checked?"Выполнено":"Не выполнено"),1)],2),Object(o["f"])(a,{size:"sm",value:t.todo.text,isInput:!1,completed:t.todo.completed,content:t.todo.text.trim()?t.todo.text:"Нажмите, чтобы изменить текст",onInput:e[2]||(e[2]=function(e){return t.UPDATE_TODO(Object(T["a"])(Object(T["a"])({},t.todo),{},{text:e.target.value}))})},null,8,["value","completed","content"]),Object(o["f"])("div",{class:t.$style.button},[Object(o["f"])(r,{size:"small",onClick:e[3]||(e[3]=function(e){return t.DELETE_TODO(t.todo.id)})},{default:Object(o["C"])((function(){return[A]})),_:1})],2)],2)}function U(t,e,n,c,i,s){return Object(o["o"])(),Object(o["d"])("div",{class:[t.$style.textWrap,t.$style[t.size],t.$style[t.float]]},[Object(o["D"])(Object(o["f"])("span",{tabindex:"0",class:[t.$style.text,Object(j["a"])({},t.$style.completed,t.completed)],onClick:e[1]||(e[1]=function(){return t.changeEditable&&t.changeEditable.apply(t,arguments)}),onKeypress:e[2]||(e[2]=Object(o["E"])((function(){return t.changeEditable&&t.changeEditable.apply(t,arguments)}),["enter","space"]))},Object(o["w"])(t.content),35),[[o["A"],!t.editable]]),t.isInput?Object(o["D"])((Object(o["o"])(),Object(o["d"])("input",{key:0,ref:"inputRef",type:"text",class:t.$style.input,maxlength:t.maxlength,value:t.value,onInput:e[3]||(e[3]=function(e){return t.$emit("input",e)}),onFocus:e[4]||(e[4]=function(){return t.onFocus&&t.onFocus.apply(t,arguments)}),onBlur:e[5]||(e[5]=function(){return t.onBlur&&t.onBlur.apply(t,arguments)}),onKeypress:e[6]||(e[6]=Object(o["E"])((function(){return t.changeEditable&&t.changeEditable.apply(t,arguments)}),["enter"]))},null,42,["maxlength","value"])),[[o["A"],t.editable]]):Object(o["D"])((Object(o["o"])(),Object(o["d"])("textarea",{key:1,ref:"inputRef",type:"text",class:[t.$style.input,t.$style.textarea],maxlength:t.maxlength,value:t.value,onInput:e[7]||(e[7]=function(e){return t.$emit("input",e)}),onFocus:e[8]||(e[8]=function(){return t.onFocus&&t.onFocus.apply(t,arguments)}),onBlur:e[9]||(e[9]=function(){return t.onBlur&&t.onBlur.apply(t,arguments)}),onKeypress:e[10]||(e[10]=Object(o["E"])((function(){return t.changeEditable&&t.changeEditable.apply(t,arguments)}),["enter"]))},null,42,["maxlength","value"])),[[o["A"],t.editable]])],2)}var R=Object(o["g"])({props:{size:{type:String,default:"sm"},float:{type:String,default:"center"},content:String,isInput:Boolean,completed:Boolean,value:String,maxlength:String},data:function(){return{editable:!1,focused:!1}},methods:{onFocus:function(){this.focused=!0},onBlur:function(){this.focused=!1},changeEditable:function(){this.editable=!this.editable}},watch:{editable:function(){if(this.editable){var t=this.$refs.inputRef;this.$nextTick((function(){return t.focus()}))}},focused:function(){!this.focused&&this.editable&&this.changeEditable()}}}),M=n("12b9");const F=R.__cssModules={};F["$style"]=M["default"],R.render=U;var W=R,J=Object(o["g"])({components:{ButtonComponent:N,EditableTextComponent:W},props:{todo:{type:Object,required:!0}},data:function(){return{editable:!1,focused:!1}},methods:Object(T["a"])(Object(T["a"])({},Object(E["d"])(["DELETE_TODO","UPDATE_TODO"])),{},{changeEditable:function(){this.editable=!this.editable}}),computed:{checked:{get:function(){return this.todo.completed},set:function(t){this.UPDATE_TODO(Object(T["a"])(Object(T["a"])({},this.todo),{},{completed:t}))}}},watch:{editable:function(){if(this.editable){var t=this.$refs.input;this.$nextTick((function(){return t.focus()}))}},focused:function(){!this.focused&&this.editable&&this.changeEditable()}}}),z=n("629c");const K=J.__cssModules={};K["$style"]=z["default"],J.render=B;var X=J,Y=Object(o["f"])("span",{class:"material-icons"}," save ",-1),V=Object(o["f"])("span",null,"Сохранить",-1),q=Object(o["f"])("span",{class:"material-icons"}," cancel ",-1),Z=Object(o["f"])("span",null,"Отменить",-1),H=Object(o["f"])("span",{class:"material-icons"}," delete ",-1),Q=Object(o["f"])("span",null,"Удалить",-1);function G(t,e,n,c,i,s){var a=Object(o["u"])("button-component");return Object(o["o"])(),Object(o["d"])("div",{class:t.$style.buttons},[Object(o["f"])(a,{title:"Сохранить записку",onClick:t.saveNote},{default:Object(o["C"])((function(){return[Y,V]})),_:1},8,["onClick"]),Object(o["f"])(a,{title:"Отменить создание записки",onClick:t.cancelEdit},{default:Object(o["C"])((function(){return[q,Z]})),_:1},8,["onClick"]),Object(o["f"])(a,{title:"Удалить записку",onClick:t.deleteNote},{default:Object(o["C"])((function(){return[H,Q]})),_:1},8,["onClick"])],2)}var tt=Object(o["g"])({components:{ButtonComponent:N},methods:{saveNote:function(){this.$store.dispatch("saveNote"),this.$router.push("/")},deleteNote:function(){window.confirm("Удалить записку?")&&(this.$store.commit("DELETE_NOTE"),this.$router.push("/"))},cancelEdit:function(){window.confirm("Выйти без сохранения?")&&this.$router.push("/")}}}),et=n("4b59");const nt=tt.__cssModules={};nt["$style"]=et["default"],tt.render=G;var ot=tt,ct=Object(o["g"])({name:"Note",components:{TodoItemComponent:X,ButtonComponent:N,OptionsComponent:ot,EditableTextComponent:W},data:function(){return{disabled:!1,editable:!1,focused:!1}},methods:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(E["d"])(["ADD_TODO","UPDATE_TITLE","SET_CURRENT_NOTE"])),Object(E["b"])(["fetchCurrentNote"])),{},{changeEditable:function(){this.editable=!this.editable},fetchNote:function(){if(this.$router.currentRoute.value.params.id){var t=this.$router.currentRoute.value.params.id.toString();this.fetchCurrentNote(t)}else this.clearNote()},clearNote:function(){this.SET_CURRENT_NOTE({title:"",todos:[]})}}),computed:Object(T["a"])(Object(T["a"])({},Object(E["e"])({note:"currentNote"})),Object(E["c"])(["getTodosLength"])),watch:{editable:function(){var t=this.$refs.input;this.editable&&this.$nextTick((function(){return t.focus()}))},focused:function(){!this.focused&&this.editable&&this.changeEditable()},getTodosLength:function(){this.getTodosLength>=5?this.disabled=!0:this.disabled=!1}},mounted:function(){this.fetchNote()},beforeRouteLeave:function(t,e,n){this.clearNote(),n()}}),it=n("4a16");const st=ct.__cssModules={};st["$style"]=it["default"],ct.render=P;var at=ct,rt=[{path:"/",name:"List",component:w},{path:"/note",name:"Create",component:at},{path:"/note/:id",name:"Edit",component:at}],lt=Object(m["a"])({history:Object(m["b"])("/tododo"),routes:rt}),ut=lt,dt=(n("7db0"),n("159b"),"NOTES"),bt=function(t,e){localStorage.setItem(t,JSON.stringify(e))},ft=function(t){var e;return JSON.parse(null!==(e=localStorage.getItem(t))&&void 0!==e?e:"[]")},pt=Object(E["a"])({state:{notes:ft(dt),currentNote:{title:"",todos:[],id:""}},mutations:{SET_CURRENT_NOTE:function(t,e){t.currentNote=e},ADD_NOTE:function(t){t.notes.push(Object(T["a"])(Object(T["a"])({},t.currentNote),{},{id:Date.now().toString()}))},DELETE_NOTE:function(t){t.notes=t.notes.filter((function(e){return e.id!=t.currentNote.id})),bt(dt,t.notes)},UPDATE_NOTE:function(t){var e=t.notes.find((function(e){return e.id===t.currentNote.id})),n=t.notes.indexOf(e);t.notes[n]=t.currentNote},UPDATE_TITLE:function(t,e){t.currentNote.title=e},UPDATE_TODO:function(t,e){var n=t.currentNote.todos.find((function(t){return t.id===e.id})),o=t.currentNote.todos.indexOf(n);t.currentNote.todos[o]=e},ADD_TODO:function(t){t.currentNote.todos.push({text:"",completed:!1,id:Date.now().toString()})},DELETE_TODO:function(t,e){t.currentNote.todos=t.currentNote.todos.filter((function(t){return t.id!==e}))}},actions:{saveNote:function(t){var e=this,n=t.state,o=t.commit,c=this.state.notes.some((function(t){return t.id===e.state.currentNote.id}));n.currentNote.todos.forEach((function(t,e){""===t.text.trim()&&o("UPDATE_TODO",Object(T["a"])(Object(T["a"])({},t),{},{text:"Новая заметка ".concat(e+1)}))}));var i=""===n.currentNote.title.trim();c?(i&&o("UPDATE_TITLE","Новая записка ".concat(n.notes.length)),o("UPDATE_NOTE")):(i&&o("UPDATE_TITLE","Новая записка ".concat(n.notes.length+1)),o("ADD_NOTE")),bt(dt,n.notes)},fetchCurrentNote:function(t,e){var n=t.commit,o=JSON.parse(JSON.stringify(this.state.notes.find((function(t){return t.id===e}))));n("SET_CURRENT_NOTE",o)},updateCurrentNote:function(t,e){var n=t.commit;n("SET_CURRENT_NOTE",e)}},getters:{getTodosLength:function(t){return t.currentNote.todos.length}},strict:!0});n("c1c3");Object(o["c"])(_).use(pt).use(ut).mount("#app")},e0b1:function(t,e,n){t.exports={app:"ButtonComponent_app_XAvjc",button:"ButtonComponent_button_214jS",small:"ButtonComponent_small_-KVXw",normal:"ButtonComponent_normal_1A3h_",large:"ButtonComponent_large_WgYcS",accent:"ButtonComponent_accent_2t_d6"}},e779:function(t,e,n){t.exports={app:"EditableTextComponent_app_3NDhf",textWrap:"EditableTextComponent_textWrap_Zld9M",left:"EditableTextComponent_left_2nROZ",center:"EditableTextComponent_center_1o0O7",right:"EditableTextComponent_right_1Dd5R",sm:"EditableTextComponent_sm_28_nZ",md:"EditableTextComponent_md_26Vph",input:"EditableTextComponent_input_JdEj0",text:"EditableTextComponent_text_2PXY_",completed:"EditableTextComponent_completed_3W08L"}},edfc:function(t,e,n){t.exports={app:"Note_app_1xYcQ",note:"Note_note_3PFF_",options:"Note_options_1EqAB",create:"Note_create_2Z8bV",todos:"Note_todos_2y3aF",ul:"Note_ul_2j_FK"}}});
//# sourceMappingURL=app.2994417f.js.map